import puppeteer from 'puppeteer'; (async () => { const browser = await puppeteer.launch(); const page = await browser.newPage(); page.on('pageerror', err => console.log('REACT_CRASH:', err.message, err.stack)); page.on('console', msg => { if (msg.type() === 'error') console.log('REACT_ERROR:', msg.text()); }); await page.goto('http://localhost:5173', {waitUntil: 'networkidle0'}); await page.evaluate(() => { localStorage.setItem('auth_token', 'dev-token'); localStorage.setItem('auth_user', JSON.stringify({username: 'demo_user'})); }); await page.goto('http://localhost:5173/dashboard', {waitUntil: 'networkidle0'}); await fetch('http://localhost:3001/simulate_attack'); await new Promise(r => setTimeout(r, 2000)); await browser.close(); })();
